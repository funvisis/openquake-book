This book aims at providing a support explaining the scientific basis 
and the methodologies adopted in the implementation of OpenQuake, an open 
source code for seismic hazard and risk calculation. 
%
The book follows the traditional openness and transparency traits of the 
\gls{acr:gem} as clearly indicated in the development principle of 
OpenQuake. 

OpenQuake is a fully integrated, flexible and scalable hazard and risk 
calculation engine whose development stays at the core of the \gls{acr:gem} 
overall objectives.
%
The \gls{acr:gem} initiative, indeed, aims at establishing uniform, open 
standards to calculate and communicate earthquake risk worldwide, by 
developing together with the community a global, state-of-the-art and 
dynamic earthquake risk model. 
%
% ------------------------------------------------------------------------------
\section{The basics of OpenQuake}
The implementation of OpenQuake officially started in Summer 2010 just 
following the experience gained in \gls{acr:gem}'s kick-off project GEM1 
\citep{gemfoundation2010}, during which an extensive appraisal of hazard 
and risk codes had been performed \citep{danciu2010,crowley2010}
and prototypes hazard and risk softwares where selected, designed and
implemented \citep{pagani2010,crowley2010a}.

At present time OpenQuake is a blend of Java and Python code developed 
following the most conventional paradigms currently dictating Open Source 
software development. 
The source code, released under an open source sofware,
is freely and openly accessible on a web based repository 
(see \href{http://github.com/gem}{github.com/gem}) while the 
development process is managed so that the community can participate 
to the day by day development as well as in the mid- and long-term 
design process. 
%
OpenQuake development also leverages from a number of open source projects 
such as OpenSHA, Celeryd and RabbitMQ, just to mention some of them.

The hazard component of the engine, which constitutes almost entirely
the Java part of the code, largely relies on classes belonging to 
\gls{opensha}, a comprehensive library for performing state-or-the-art
PSHA developed collaboratively at the \gls{acr:usgs} and at the 
\gls{acr:scec}. New code was developed in GEM1 and in the following 
phases to support standardized \gls{acr:erf} and logic-tree structure, 
event-based PSHA and, seismic hazard disaggregation.
%
The Risk component of the engine is novel code developed in GEM1 and 
later by the newly formed OpenQuake team operating at the \gls{acr:gem} 
Model Facility, 

An OpenQuake schematic evidencing its actual structure is 
represented in Figure \ref{fig:openquake_schema}; the schematic contains:
purple boxes representing the main modules of the hazard component, 
green boxes showing the modules of the risk component, white boxes
with main outputs computed by the distinct modules and orange rectangles
displaying the main input information entering the calculation engine. 
%
% ------------------------------------------------------------------------------
%\subsection{Brief description of the OpenQuake IT architecture}
%\input{./Part_Introduction/it.tex}

%
% ------------------------------------------------------------------------------
\section{Book structure}
The OpenQuake book is organized into three parts; in the first one we give
a broad introduction to OpenQuake and the Book, in the second we 
describe the the science behind the hazard component of the engine
while in the third one we illustrate the theory of the risk calculators
incorporated into OpenQuake.

\hfill \\
\emph{Part II: Hazard}
\begin{itemize}
\item Chapter \ref{chap:inthaz} offers an introduction to the hazard 
topics discussed in the following chapters. In particular, in this 
Chapter we discuss the main OpenQuake concepts and we illustrate the 
calculation workflows currently available in the hazard component of 
OpenQuake.
\item Chapter \ref{chap:hazinp} focuses on the structure and the 
characteristics of the information necessary to define a 
comprehensive PSHA input model. This Chapter also includes
descriptions of the main seismic source typologies and of the logic 
tree structure.
\item We dedicate Chapter \ref{chap:erf} to the explanation of the
methodology adopted for the processing of the logic tree structures
supported by OpenQuake and for the creation of the 
\gls{earthquakeruptureforecast}
\item The last Chapter of the hazard part (chapter \ref{chap:hazcalc}) 
illustrates the main calculators available: the classical-PSHA calculator,
the event-based calculator and the disaggregation calculator. 
\end{itemize}
\emph{Part III: Risk}
\begin{itemize}
\item Chapter \ref{chap:intrisk} introduces the main risk concepts. 
\item Chapter \ref{chap:riskinput} contains an explanation of the exposure, 
physical vulnerability and fragility concepts.
\item Chapter \ref{chap:risk_deterministic} describes the deterministic risk 
methodology implemented in \gls{acr:oq}.
\item Chapter \ref{chap:risk_prob_event_based} provides an overview of the 
event-based risk calculation methodology.
\item Chapter \ref{chap:risk_psha_based} illustrates risk calculation based on 
the hazard curves, the most classical PSHA result typology.
\end{itemize}
%
In the closing part, the Book contains a glossary functional to define a 
clear and unique terminology.
%
% . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . > Figure
\begin{landscape}
\begin{figure}
\includegraphics[width=20cm,angle=0]{./Figures/Part_Introduction/engine9_20110130.eps}
\caption{OpenQuake schema. Purple boxes are the calculators included in the  
the hazard part of OQ; green boxes are the risk calculators. The method of 
\citet{wesson2009} is represented in a separate box since it incorporates 
hazard and risk calculations.}
\label{fig:openquake_schema}
\end{figure}
\end{landscape}
% . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . < Figure